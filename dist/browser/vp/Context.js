"use strict";var appSingleton,R=require("ramda"),_contextAwareLogger=function(a,b){return{silly:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.silly.apply(b,d.concat([{externalId:a.externalId}]))},debug:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.debug.apply(b,d.concat([{externalId:a.externalId}]))},info:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.info.apply(b,d.concat([{externalId:a.externalId}]))},warn:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.warn.apply(b,d.concat([{externalId:a.externalId}]))},error:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.error.apply(b,d.concat([{externalId:a.externalId}]))}}},consoleLogger={silly:function(){var a;return(a=console).debug.apply(a,arguments)},debug:function(){var a;return(a=console).debug.apply(a,arguments)},info:function(){var a;return(a=console).info.apply(a,arguments)},warn:function(){var a;return(a=console).warn.apply(a,arguments)},error:function(){var a;return(a=console).error.apply(a,arguments)}},context={get app(){return appSingleton},get log(){return R.has("log",appSingleton)?R.is(Function,appSingleton.log)?appSingleton.log():appSingleton.log:(consoleLogger.warn("Context.log: No logger available on the app, falling back to console logger."),consoleLogger)},get handlerConfig(){return appSingleton.get("handlers")},contextAwareLogger:function(a,b){var c=b||context.log;return _contextAwareLogger(a,c)},initialize:function(a){appSingleton=a}};module.exports=context;